<html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  i18n:domain="collective.cover">

  <body tal:define="is_empty view/is_empty">
    <p tal:condition="python: is_empty and view.is_compose_mode()" i18n:translate="">
      Please drag&amp;drop a Sparql object here.
    </p>

    <div tal:condition="not: is_empty" class="cover-daviz-singlerow-tile tile-content">

      <style>

        .singlerow-cards-container {
          position: relative;
          /* padding: 1rem; */
          margin: 0 auto;
          /* box-shadow: 0 0 5px 0 rgba(0, 0, 0, 0.06); */
        }

        .show_more {
          position: absolute;
          right: 1rem;
          top: 0rem;
          color: #1f8cc9;
          cursor: pointer;
        }

        .singlerow-cards-wrapper {
          position: relative;
          background-color: #fff;
          overflow: hidden;
        }

        .flex-row-warp {
          flex-flow: row wrap!important;
          max-height: 1000px!important;
        }

        .singlerow-cards {
          /* padding: 15px; */
          display: flex;
          flex-flow: column wrap;
          max-height:350px;
        }

        .singlerow-card {
          min-height: 250px;
          width: 300px;
          margin: 1.5rem;
        }

        .singlerow-title {
          margin: 1rem 0 0 0;
          font-weight: 400;
        }

        .singlerow-card__inner {
          border: 1px solid #ddd;
          width: 100%;
          padding: .5em;
          height: 280px;
          position: relative;
          cursor: pointer;
          font-size: 1em;
          padding-bottom: 1rem;
        }

        .singlerow-card-date {
          color: #aaa;
        }

        #right-button,
        #left-button {
          background: rgba(255,255,255,0.8);
          border: none;
          position: absolute;
          top: 44%;
          z-index: 999;
          padding: 2rem;
          border: 1px solid #eee;
        }

        #right-button {
          right: -2rem;
        }

        #left-button {
          left: -2rem;
        }

        .buttons-hide {
          display: none;
        }

      </style>

      <div class="singlerow-cards-container" tal:define="text python: view.data.get('text', '')">
        <h4 class="singlerow-title" tal:content="python: view.data.get('title', 'Untitled')">Relevant singlerows</h4>
        <div class="text" tal:condition="text" tal:content="structure text/output">Text</div>
        <span class="show_more"> 
            <a href="" tal:attributes="href python:view.data.get('view_more_url', '')">Show more</a>
        </span>
        <button type="button" id="right-button"><i class="fa fa-chevron-right" aria-hidden="true"></i></button>
        <button type="button" id="left-button"><i class="fa fa-chevron-left" aria-hidden="true"></i></button>

        <div class="singlerow-cards-wrapper">
          <div class="singlerow-cards">

            <div tal:repeat="obj view/children" class="singlerow-card">
              <div class="singlerow-card__inner" tal:define="published python: view.format_date(obj['item_published'])">
                <img tal:attributes="src string:${obj/item_url}/image_preview"/>
                <p class="singlerow-desc">
                <a href="" tal:attributes="href obj/item_url" tal:content="obj/item_title">Item Title</a>
                </p>
                <span class="singlerow-card-date" tal:condition="published">
                    Published on <span tal:replace="python: context.toLocalizedTime(published)">Aug</span>
                </span>
              </div>
            </div>

          </div>
        </div>

      </div>

    </div>
  </body>
</html>
